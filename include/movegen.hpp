#ifndef MOVEGEN_H
#define MOVEGEN_H

#include "board.hpp"

#define get_up_left_att_bb(X) (((X) & 0xfefefefefefe) << 15)
#define get_up_right_att_bb(X) (((X) & 0x7f7f7f7f7f7f) << 17)
#define get_left_up_att_bb(X) (((X) & 0xfcfcfcfcfcfcfc) << 6)
#define get_right_up_att_bb(X) (((X) & 0x3f3f3f3f3f3f3f) << 10)
#define get_left_down_att_bb(X) (((X) & 0xfcfcfcfcfcfcfc00) >> 10)
#define get_right_down_att_bb(X) (((X) & 0x3f3f3f3f3f3f3f00) >> 6)
#define get_down_left_att_bb(X) (((X) & 0xfefefefefefe0000) >> 17)
#define get_down_right_att_bb(X) (((X) & 0x7f7f7f7f7f7f0000) >> 15)


#define BB_RANK_1 0xff
#define BB_RANK_8 0xff00000000000000
#define BB_RANK_2 0xff00
#define BB_RANK_3 0xff00 << 8
#define BB_RANK_7 0xff00ULL << 40
#define BB_RANK_6 0xff00ULL << 32
#define BB_FILE_A 0x101010101010101
#define BB_FILE_H 0x8080808080808080

constexpr unsigned char shift_45[15] = {0, 1, 3, 6, 10, 15, 21, 28, 36, 43, 49, 54, 58, 61, 63}; 


extern Bitboard knight_attacks[64];// = { 0x20400, 0x50800, 0xA1100, 0x142200, 0x284400, 0x508800, 0xA01000, 0x402000, 0x2040004, 0x5080008, 0xA110011, 0x14220022, 0x28440044, 0x50880088, 0xA0100010, 0x40200020, 0x204000402, 0x508000805, 0xA1100110A, 0x1422002214, 0x2844004428, 0x5088008850, 0xA0100010A0, 0x4020002040, 0x20400040200, 0x50800080500, 0xA1100110A00, 0x142200221400, 0x284400442800, 0x508800885000, 0xA0100010A000, 0x402000204000, 0x2040004020000, 0x5080008050000, 0xA1100110A0000, 0x14220022140000, 0x28440044280000, 0x50880088500000, 0xA0100010A00000, 0x40200020400000, 0x204000402000000, 0x508000805000000, 0xA1100110A000000, 0x1422002214000000, 0x2844004428000000, 0x5088008850000000, 0xA0100010A0000000, 0x4020002040000000, 0x400040200000000, 0x800080500000000, 0x1100110A00000000, 0x2200221400000000, 0x4400442800000000, 0x8800885000000000, 0x100010A000000000, 0x2000204000000000, 0x4020000000000, 0x8050000000000, 0x110A0000000000, 0x22140000000000, 0x44280000000000, 0x88500000000000, 0x10A00000000000, 0x20400000000000};
extern Bitboard king_attacks[64]; //= { 0x302, 0x705, 0xE0A, 0x1C14, 0x3828, 0x7050, 0xE0A0, 0xC040, 0x30203, 0x70507, 0xE0A0E, 0x1C141C, 0x382838, 0x705070, 0xE0A0E0, 0xC040C0, 0x3020300, 0x7050700, 0xE0A0E00, 0x1C141C00, 0x38283800, 0x70507000, 0xE0A0E000, 0xC040C000, 0x302030000, 0x705070000, 0xE0A0E0000, 0x1C141C0000, 0x3828380000, 0x7050700000, 0xE0A0E00000, 0xC040C00000, 0x30203000000, 0x70507000000, 0xE0A0E000000, 0x1C141C000000, 0x382838000000, 0x705070000000, 0xE0A0E0000000, 0xC040C0000000, 0x3020300000000, 0x7050700000000, 0xE0A0E00000000, 0x1C141C00000000, 0x38283800000000, 0x70507000000000, 0xE0A0E000000000, 0xC040C000000000, 0x302030000000000, 0x705070000000000, 0xE0A0E0000000000, 0x1C141C0000000000, 0x3828380000000000, 0x7050700000000000, 0xE0A0E00000000000, 0xC040C00000000000, 0x203000000000000, 0x507000000000000, 0xA0E000000000000, 0x141C000000000000, 0x2838000000000000, 0x5070000000000000, 0xA0E0000000000000, 0x40C0000000000000 };
extern Bitboard pawn_attacks[2][64];
extern Bitboard rank_attacks[64][256]; 
extern Bitboard file_attacks[64][256];
extern Bitboard first_diagonal_attacks[64][256];
extern Bitboard second_diagonal_attacks[64][256];
/*={  
 { 0, 0xfe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x3e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x7e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x3e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xfe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x3e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x7e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x3e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0x1e, 0, 0x2, 0, 0x6, 0, 0x2, 0, 0xe, 0, 0x2, 0, 0x6, 0, 0x2  }, 
 { 0, 0, 0xfd, 0xfd, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x3d, 0x3d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x7d, 0x7d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x3d, 0x3d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0xfd, 0xfd, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x3d, 0x3d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x7d, 0x7d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x3d, 0x3d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5, 0, 0, 0x1d, 0x1d, 0, 0, 0x5, 0x5, 0, 0, 0xd, 0xd, 0, 0, 0x5, 0x5  }, 
 { 0, 0, 0, 0, 0xfb, 0xfb, 0xfa, 0xfa, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x3b, 0x3b, 0x3a, 0x3a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x7b, 0x7b, 0x7a, 0x7a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x3b, 0x3b, 0x3a, 0x3a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0xfb, 0xfb, 0xfa, 0xfa, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x3b, 0x3b, 0x3a, 0x3a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x7b, 0x7b, 0x7a, 0x7a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x3b, 0x3b, 0x3a, 0x3a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa, 0, 0, 0, 0, 0x1b, 0x1b, 0x1a, 0x1a, 0, 0, 0, 0, 0xb, 0xb, 0xa, 0xa  }, 
 { 0, 0, 0, 0, 0, 0, 0, 0, 0xf7, 0xf7, 0xf6, 0xf6, 0xf4, 0xf4, 0xf4, 0xf4, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x37, 0x37, 0x36, 0x36, 0x34, 0x34, 0x34, 0x34, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x77, 0x77, 0x76, 0x76, 0x74, 0x74, 0x74, 0x74, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x37, 0x37, 0x36, 0x36, 0x34, 0x34, 0x34, 0x34, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0xf7, 0xf7, 0xf6, 0xf6, 0xf4, 0xf4, 0xf4, 0xf4, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x37, 0x37, 0x36, 0x36, 0x34, 0x34, 0x34, 0x34, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x77, 0x77, 0x76, 0x76, 0x74, 0x74, 0x74, 0x74, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0x37, 0x37, 0x36, 0x36, 0x34, 0x34, 0x34, 0x34, 0, 0, 0, 0, 0, 0, 0, 0, 0x17, 0x17, 0x16, 0x16, 0x14, 0x14, 0x14, 0x14}, 
 { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xef, 0xef, 0xee, 0xee, 0xec, 0xec, 0xec, 0xec, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2f, 0x2f, 0x2e, 0x2e, 0x2c, 0x2c, 0x2c, 0x2c, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x6f, 0x6f, 0x6e, 0x6e, 0x6c, 0x6c, 0x6c, 0x6c, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2f, 0x2f, 0x2e, 0x2e, 0x2c, 0x2c, 0x2c, 0x2c, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xef, 0xef, 0xee, 0xee, 0xec, 0xec, 0xec, 0xec, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0xe8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2f, 0x2f, 0x2e, 0x2e, 0x2c, 0x2c, 0x2c, 0x2c, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x6f, 0x6f, 0x6e, 0x6e, 0x6c, 0x6c, 0x6c, 0x6c, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2f, 0x2f, 0x2e, 0x2e, 0x2c, 0x2c, 0x2c, 0x2c, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28}, 
 { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xdf, 0xdf, 0xde, 0xde, 0xdc, 0xdc, 0xdc, 0xdc, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x5f, 0x5f, 0x5e, 0x5e, 0x5c, 0x5c, 0x5c, 0x5c, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xdf, 0xdf, 0xde, 0xde, 0xdc, 0xdc, 0xdc, 0xdc, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd8, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0xd0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x5f, 0x5f, 0x5e, 0x5e, 0x5c, 0x5c, 0x5c, 0x5c, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50, 0x50}, 
 { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xbf, 0xbf, 0xbe, 0xbe, 0xbc, 0xbc, 0xbc, 0xbc, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0xbf, 0xbf, 0xbe, 0xbe, 0xbc, 0xbc, 0xbc, 0xbc, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb8, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xb0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0, 0xa0}, 
 { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x7f, 0x7f, 0x7e, 0x7e, 0x7c, 0x7c, 0x7c, 0x7c, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x70, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40}
 } ;
 */
/*Bitboard file_attacks[8][256] = {
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101010100 ,0x101010101010100 ,0x1010101010100 ,0x1010101010100 ,0x10101010100 ,0x10101010100 ,0x10101010100 ,0x10101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x101010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x1010100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x10100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 ,0x100 }, 
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101010001 ,0x101010101010001 ,0x1010101010001 ,0x1010101010001 ,0x10101010001 ,0x10101010001 ,0x10101010001 ,0x10101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101010001 ,0x101010101010001 ,0x1010101010001 ,0x1010101010001 ,0x10101010001 ,0x10101010001 ,0x10101010001 ,0x10101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x101010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x1010001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 ,0x10001 },
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101000101 ,0x101010101000101 ,0x1010101000101 ,0x1010101000101 ,0x10101000101 ,0x10101000101 ,0x10101000101 ,0x10101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101000100 ,0x101010101000100 ,0x1010101000100 ,0x1010101000100 ,0x10101000100 ,0x10101000100 ,0x10101000100 ,0x10101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101000101 ,0x101010101000101 ,0x1010101000101 ,0x1010101000101 ,0x10101000101 ,0x10101000101 ,0x10101000101 ,0x10101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x101000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x1000101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010101000100 ,0x101010101000100 ,0x1010101000100 ,0x1010101000100 ,0x10101000100 ,0x10101000100 ,0x10101000100 ,0x10101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x101000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100 ,0x1000100  },
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010101 ,0x101010100010101 ,0x1010100010101 ,0x1010100010101 ,0x10100010101 ,0x10100010101 ,0x10100010101 ,0x10100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010000 ,0x101010100010000 ,0x1010100010000 ,0x1010100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010100 ,0x101010100010100 ,0x1010100010100 ,0x1010100010100 ,0x10100010100 ,0x10100010100 ,0x10100010100 ,0x10100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010000 ,0x101010100010000 ,0x1010100010000 ,0x1010100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010101 ,0x101010100010101 ,0x1010100010101 ,0x1010100010101 ,0x10100010101 ,0x10100010101 ,0x10100010101 ,0x10100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x100010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010000 ,0x101010100010000 ,0x1010100010000 ,0x1010100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010100 ,0x101010100010100 ,0x1010100010100 ,0x1010100010100 ,0x10100010100 ,0x10100010100 ,0x10100010100 ,0x10100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x100010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010100010000 ,0x101010100010000 ,0x1010100010000 ,0x1010100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x10100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000 ,0x100010000  },
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010101 ,0x101010001010101 ,0x1010001010101 ,0x1010001010101 ,0x10001010101 ,0x10001010101 ,0x10001010101 ,0x10001010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010000 ,0x101010001010000 ,0x1010001010000 ,0x1010001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010100 ,0x101010001010100 ,0x1010001010100 ,0x1010001010100 ,0x10001010100 ,0x10001010100 ,0x10001010100 ,0x10001010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010000 ,0x101010001010000 ,0x1010001010000 ,0x1010001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010101 ,0x101010001010101 ,0x1010001010101 ,0x1010001010101 ,0x10001010101 ,0x10001010101 ,0x10001010101 ,0x10001010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010000 ,0x101010001010000 ,0x1010001010000 ,0x1010001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010100 ,0x101010001010100 ,0x1010001010100 ,0x1010001010100 ,0x10001010100 ,0x10001010100 ,0x10001010100 ,0x10001010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001010000 ,0x101010001010000 ,0x1010001010000 ,0x1010001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x10001010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101010001000000 ,0x101010001000000 ,0x1010001000000 ,0x1010001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000 ,0x10001000000  },
 { 0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010101 ,0x101000101010101 ,0x1000101010101 ,0x1000101010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010000 ,0x101000101010000 ,0x1000101010000 ,0x1000101010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010100 ,0x101000101010100 ,0x1000101010100 ,0x1000101010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010000 ,0x101000101010000 ,0x1000101010000 ,0x1000101010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010101 ,0x101000101010101 ,0x1000101010101 ,0x1000101010101 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010000 ,0x101000101010000 ,0x1000101010000 ,0x1000101010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010100 ,0x101000101010100 ,0x1000101010100 ,0x1000101010100 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101010000 ,0x101000101010000 ,0x1000101010000 ,0x1000101010000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000101000000 ,0x101000101000000 ,0x1000101000000 ,0x1000101000000 ,0x0 ,0x0 ,0x0 ,0x0 ,0x101000100000000 ,0x101000100000000 ,0x1000100000000 ,0x1000100000000}, 
 { 0x0 ,0x0 ,0x100010101010101 ,0x100010101010101 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010000 ,0x100010101010000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010100 ,0x100010101010100 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010000 ,0x100010101010000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010101 ,0x100010101010101 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010000 ,0x100010101010000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010100 ,0x100010101010100 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101010000 ,0x100010101010000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010101000000 ,0x100010101000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000 ,0x0 ,0x0 ,0x100010100000000 ,0x100010100000000 ,0x0 ,0x0 ,0x100010000000000 ,0x100010000000000} ,
 { 0x0 ,0x1010101010101 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010100 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010101 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010100 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101010000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010101000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010100000000 ,0x0 ,0x1000000000000 ,0x0 ,0x1010000000000 ,0x0 ,0x1000000000000  }
 };
*/
// shift to right
constexpr int diagonal_shift_mine[64] = {
    0 , 57, 50, 43, 36, 29, 22, 15,
    8 , 0 , 57, 50, 43, 36, 29, 22,
    16, 8 , 0 , 57, 50, 43, 36, 29,
    24, 16, 8 , 0 , 57, 50, 43, 36,
    32, 24, 16, 8 , 0 , 57, 50, 43, 
    40, 32, 24, 16, 8 , 0 , 57, 50, 
    48, 40, 32, 24, 16, 8 , 0 , 57,
    56, 48, 40, 32, 24, 16, 8 , 0
};

constexpr int diagonal_second_shift_mine[64] = {
    8, 16, 24, 32, 40, 48, 56, 0,
    16, 24, 32, 40, 48, 56, 0, 9,
    24, 32, 40, 48, 56, 0, 9, 18,
    32, 40, 48, 56, 0, 9, 18, 27,
    40, 48, 56, 0, 9, 18, 27, 36,
    48, 56, 0, 9, 18, 27, 36, 45,
    56, 0, 9, 18, 27, 36, 45, 54,
    0, 9, 18, 27, 36, 45, 54, 63
};

constexpr int diagonal_shift[64] = {
    0 , 56, 48, 40, 32, 24, 16, 8,
    9 , 0 , 56, 48, 40, 32, 24, 16,
    18, 9 , 0 , 56, 48, 40, 32, 24,
    27, 18, 9 , 0 , 56, 48, 40, 32,
    36, 27, 18, 9 , 0 , 56, 48, 40, 
    45, 36, 27, 18, 9 , 0 , 56, 48, 
    54, 45, 36, 27, 18, 9 , 0 , 56,
    63, 54, 45, 36, 27, 18, 9 , 0
};

constexpr int diagonal_id[64] = {
    8, 7, 6, 5, 4, 3, 2, 1,
    9, 8, 7, 6, 5, 4, 3, 2,
    10,9, 8, 7, 6, 5, 4, 3,
    11,10,9, 8, 7, 6, 5, 4,
    12,11,10,9, 8, 7, 6, 5,
    13,12,11,10,9, 8, 7, 6,
    14,13,12,11,10,9, 8, 7,
    15,14,13,12,11,10,9, 8
};

constexpr int diagonal_len[64] = {
    8, 7, 6, 5, 4, 3, 2, 1,
    7, 8, 7, 6, 5, 4, 3, 2,
    6, 7, 8, 7, 6, 5, 4, 3,
    5, 6, 7, 8, 7, 6, 5, 4,
    4, 5, 6, 7, 8, 7, 6, 5,
    3, 4, 5, 6, 7, 8, 7, 6,
    2, 3, 4, 5, 6, 7, 8, 7,
    1, 2, 3, 4, 5, 6, 7, 8
};

constexpr Square mapping_45_cw[64] = {
   Square::a1, Square::b2, Square::c3, Square::d4, Square::e5, Square::f6, Square::g7, Square::h8,
   Square::a2, Square::b3, Square::c4, Square::d5, Square::e6, Square::f7, Square::g8, Square::h1,
   Square::a3, Square::b4, Square::c5, Square::d6, Square::e7, Square::f8, Square::g1, Square::h2,
   Square::a4, Square::b5, Square::c6, Square::d7, Square::e8, Square::f1, Square::g2, Square::h3,
   Square::a5, Square::b6, Square::c7, Square::d8, Square::e1, Square::f2, Square::g3, Square::h4,
   Square::a6, Square::b7, Square::c8, Square::d1, Square::e2, Square::f3, Square::g4, Square::h5,
   Square::a7, Square::b8, Square::c1, Square::d2, Square::e3, Square::f4, Square::g5, Square::h6,
   Square::a8, Square::b1, Square::c2, Square::d3, Square::e4, Square::f5, Square::g6, Square::h7
};

void init_lu_rank_att();
void init_lu_file_att();
void init_lu_first_diag_att();
void init_lu_second_diag_att();

void init_lu_pawn_att();
void init_lu_king_att();
void init_lu_knight_att();
void init_all_attack_bitboards();


void insert_moves(Bitboard bb_actions, Square from, MoveType type, Moves& moves);

void generate_pawn_actions(Bitboard bb_pawns, Color color, Bitboard occupied[3], Moves& moves);
void generate_knight_actions(Bitboard bb_knight, Color color, Bitboard occupied[3], Moves& moves);
void generate_king_actions(Bitboard bb_king, Color color, Bitboard occupied[3], Moves& moves);
void generate_rook_actions(Bitboard bb_rook, Bitboard rotated_90, Color color, Bitboard occupied[3], Moves& moves);
void generate_bishop_actions(Bitboard bb_bishop, Bitboard rotated_45_cw, Bitboard rotated_45_ccw, Color color, Bitboard occupied, Moves& moves);
void generate_queen_actions(Bitboard bb_queen, Bitboard rotated_90, Bitboard rotated_45_cw, Bitboard rotated_45_ccw, Color color, Bitboard occupied[3], Moves& moves);

Bitboard generate_pawn_attacks_bb(Bitboard bb_pawns, Color color);

Bitboard generate_pawn_moves_bb(Bitboard bb_pawns, Color color);

#endif
